{
  "scenario": "CashCRUD",
  "description": "Test DIVIDEND/SLP postdating, edit, and delete with financial verification",
  "asset": {
    "input": {
      "symbol": "E2E-CASH-CRUD",
      "name": "E2E Cash CRUD Test",
      "type": "STOCK",
      "testPrice": "100",
      "buyFee": "1",
      "sellFee": "0.5",
      "status": "ACTIVE"
    },
    "budget": { "year": "2026", "amount": "1200" }
  },
  "entryTargets": [
    { "input": { "name": "ET1", "targetPercent": "2", "sortOrder": "1" } }
  ],
  "profitTargets": [
    { "input": { "name": "PT1", "targetPercent": "4", "allocationPercent": "50", "sortOrder": "1" } },
    { "input": { "name": "PT2", "targetPercent": "8", "allocationPercent": "30", "sortOrder": "2" } },
    { "input": { "name": "PT3", "targetPercent": "16", "allocationPercent": "20", "sortOrder": "3" } }
  ],
  "setupTransactions": {
    "buyA": {
      "input": {
        "signal": "INITIAL",
        "price": "100",
        "investment": "200",
        "allocations": [
          { "ptPercent": "4", "percentage": "50" },
          { "ptPercent": "8", "percentage": "30" },
          { "ptPercent": "16", "percentage": "20" }
        ],
        "date": "2026-01-15T09:00:00"
      }
    },
    "buyB": {
      "testPriceUpdate": "110",
      "input": {
        "signal": "CUSTOM",
        "price": "110",
        "investment": "300",
        "allocations": [
          { "ptPercent": "4", "percentage": "50" },
          { "ptPercent": "8", "percentage": "30" },
          { "ptPercent": "16", "percentage": "20" }
        ],
        "date": "2026-01-15T10:00:00"
      }
    },
    "sellA": {
      "isSell": true,
      "sellInput": {
        "ptPercent": "8",
        "walletPrice": "$100.00",
        "signal": "CUSTOM",
        "price": "110",
        "quantity": "0.3",
        "date": "2026-01-15T11:00:00"
      }
    },
    "buyC": {
      "testPriceUpdate": "90",
      "input": {
        "signal": "ENTAR",
        "price": "90",
        "investment": "400",
        "allocations": [
          { "ptPercent": "4", "percentage": "50" },
          { "ptPercent": "8", "percentage": "30" },
          { "ptPercent": "16", "percentage": "20" }
        ],
        "date": "2026-01-15T12:00:00"
      }
    },
    "sellB": {
      "isSell": true,
      "sellInput": {
        "ptPercent": "4",
        "walletPrice": "$110.00",
        "signal": "CUSTOM",
        "price": "90",
        "quantity": "1.36364",
        "date": "2026-01-15T13:00:00"
      }
    }
  },
  "checkpoints": [
    {
      "name": "After DivA ($20) created",
      "action": "create",
      "editInput": {
        "type": "DIVIDEND",
        "amount": "20",
        "date": "2026-01-15T11:30:00"
      },
      "expected": {
        "financialOverview": {
          "oop": "$847.17",
          "marketValue": "$675.73",
          "roi": "-5.82%",
          "available": "$474.95"
        }
      }
    },
    {
      "name": "After DivA edited to $10",
      "action": "edit",
      "target": {
        "type": "DIVIDEND",
        "amount": "$20.00"
      },
      "editInput": {
        "type": "DIVIDEND",
        "amount": "10"
      },
      "expected": {
        "financialOverview": {
          "oop": "$857.17",
          "marketValue": "$675.73",
          "roi": "-6.92%",
          "available": "$464.95"
        }
      }
    },
    {
      "name": "After SLPA ($40) created",
      "action": "create",
      "editInput": {
        "type": "SLP",
        "amount": "40",
        "date": "2026-01-15T12:30:00"
      },
      "expected": {
        "financialOverview": {
          "oop": "$857.17",
          "marketValue": "$675.73",
          "roi": "-2.25%",
          "available": "$504.95"
        }
      }
    },
    {
      "name": "After SLPA edited to $50",
      "action": "edit",
      "target": {
        "type": "SLP",
        "amount": "$40.00"
      },
      "editInput": {
        "type": "SLP",
        "amount": "50"
      },
      "expected": {
        "financialOverview": {
          "oop": "$857.17",
          "marketValue": "$675.73",
          "roi": "-1.09%",
          "available": "$514.95"
        }
      }
    },
    {
      "name": "After DivA deleted",
      "action": "delete",
      "target": {
        "type": "DIVIDEND",
        "amount": "$10.00"
      },
      "expected": {
        "financialOverview": {
          "oop": "$867.17",
          "marketValue": "$675.73",
          "roi": "-2.23%",
          "available": "$504.95"
        }
      }
    },
    {
      "name": "After SLPA deleted",
      "action": "delete",
      "target": {
        "type": "SLP",
        "amount": "$50.00"
      },
      "expected": {
        "financialOverview": {
          "oop": "$867.17",
          "marketValue": "$675.73",
          "roi": "-8.00%",
          "available": "$454.95"
        }
      }
    }
  ]
}
