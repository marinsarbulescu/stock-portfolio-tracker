{
  "scenario": "Dashboard5DPullback",
  "description": "Test 5D Pullback calculation with simulated historical closes",
  "asset": {
    "input": {
      "symbol": "E2E-5D-PULLBACK",
      "name": "E2E 5D Pullback Test",
      "type": "STOCK",
      "testPrice": "95",
      "commission": "0.5",
      "status": "ACTIVE"
    }
  },
  "entryTarget": {
    "input": {
      "name": "ET -5%",
      "targetPercent": "5",
      "sortOrder": "1"
    }
  },
  "scenarios": [
    {
      "name": "Single hit - dip from one close exceeds ET",
      "testPrice": "95",
      "testHistoricalCloses": [
        { "date": "2026-01-08", "close": 102 },
        { "date": "2026-01-07", "close": 98 },
        { "date": "2026-01-06", "close": 97 },
        { "date": "2026-01-05", "close": 96 },
        { "date": "2026-01-04", "close": 95 }
      ],
      "expected": {
        "fiveDPullback": "-6.86%"
      }
    },
    {
      "name": "Multiple hits - returns dip from highest close",
      "testPrice": "90",
      "testHistoricalCloses": [
        { "date": "2026-01-08", "close": 100 },
        { "date": "2026-01-07", "close": 98 },
        { "date": "2026-01-06", "close": 96 },
        { "date": "2026-01-05", "close": 94 },
        { "date": "2026-01-04", "close": 92 }
      ],
      "expected": {
        "fiveDPullback": "-10.00%"
      }
    },
    {
      "name": "No hits - no close exceeds ET threshold",
      "testPrice": "98",
      "testHistoricalCloses": [
        { "date": "2026-01-08", "close": 100 },
        { "date": "2026-01-07", "close": 99 },
        { "date": "2026-01-06", "close": 98 },
        { "date": "2026-01-05", "close": 97 },
        { "date": "2026-01-04", "close": 96 }
      ],
      "expected": {
        "fiveDPullback": "-"
      }
    },
    {
      "name": "Exact threshold - dip exactly at ET boundary",
      "testPrice": "95",
      "testHistoricalCloses": [
        { "date": "2026-01-08", "close": 100 },
        { "date": "2026-01-07", "close": 98 },
        { "date": "2026-01-06", "close": 96 },
        { "date": "2026-01-05", "close": 94 },
        { "date": "2026-01-04", "close": 92 }
      ],
      "expected": {
        "fiveDPullback": "-5.00%"
      }
    },
    {
      "name": "All hits - all closes trigger ET",
      "testPrice": "80",
      "testHistoricalCloses": [
        { "date": "2026-01-08", "close": 100 },
        { "date": "2026-01-07", "close": 98 },
        { "date": "2026-01-06", "close": 96 },
        { "date": "2026-01-05", "close": 94 },
        { "date": "2026-01-04", "close": 92 }
      ],
      "expected": {
        "fiveDPullback": "-20.00%"
      }
    }
  ]
}
